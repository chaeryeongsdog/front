<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>小專</title>
</head>
<body style="background-color:#ededed">
    <div class="header">
        <div class="header-left">
            <label for="sidebar-active" style="cursor: pointer;">
                <img src="./image/sidebar-button.png">
            </label>
            <h1>網站名稱</h1>
        </div>
        <div class="header-user">
                <a href="../註冊/index.html">註冊</a>
                <a href="../登入/index.html">登入</a>           
            <div class="header-icon">
                <a href="../會員資料/index.html">
                    <img src="./image/User.png" alt="" height="40px">
                </a>
            </div>
        </div>
    </div>
    <div class="body-sidebar">
        <input type="checkbox" name="" id="sidebar-active">
        <div class="sidebar-content" id="sidebar-content">
            <nav class = "sidebar close">
                <div class = "menu-bar">
                    <div class=" menu">
                        <li class = "search-box">                      
                            <i class='bx bx-search icon' ></i>
                             <input type="search" placeholder="Search...">
                        </li>
                        <ul class = "menu-links">
                            <li class = "nav-link">
                                <a href = "../首頁/index.html"> 
                                    <i class='bx bx-home-alt icon' ></i>
                                    <span class ="text nav-text">首頁</span>
                                </a>
                            </li>
                            <li class = "nav-link">
                                <a href = "../學生-課程/index.html"> 
                                    <i class='bx bx-book-open icon' ></i>
                                    <span class ="text nav-text">課程</span>
                                </a>
                            </li>
                            <li class = "nav-link">
                                <a href = "../學生-試卷/index.html"> 
                                    <i class='bx bx-calculator icon'></i>
                                    <span class ="text nav-text">試卷</span>
                                </a>
                            </li>
                            <li class = "nav-link">
                                <a href = "#"> 
                                    <i class='bx bx-log-out icon'></i>
                                    <span class ="text nav-text">登出</span>
                                </a>
                            </li>  
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div class="main">
        <div class="main-title">
            購物車 <img src="./image/cart.png" alt="">
        </div>
        <div class="main-header">
            <div class="main-header-left">課程名稱</div>
            <div class="main-header-right">價格</div>
        </div>
        <ul class="main-container">
            <li class="main-content">
                <div class="main-content-left">
                    <div class="item">
                        <div class="item-pic">
                            <img src="./image/class.jpg" alt="">
                        </div>
                        <div class="item-txt">
                            <p>國中試題題目</p>
                            <h3>到期日:6/13</h3>
                        </div>
                    </div>
                </div>
                <div class="main-content-right">
                    <span class="item-pice price" data-value="33000">
                        $NT 33,000
                    </span>
                </div>
            </li>
            <li class="main-content">
                <div class="main-content-left">
                    <div class="item">
                        <div class="item-pic">
                            <img src="./image/class.jpg" alt="">
                        </div>
                        <div class="item-txt">
                            <p>國中試題題目</p>
                            <h3>到期日:6/13</h3>
                        </div>
                    </div>
                </div>
                <div class="main-content-right">
                    <span class="item-pice price" data-value="33000">
                        $NT 33,000
                    </span>
                </div>
            </li>
        </ul>


        <div class="main-sub">
            <div class="title">課程總計</div>
            <div class="main-sub-content">
                <p>總計:</p>
                <span id="price">$NT 33,000</span>
            </div>
            <a class="checkout-btn" href="./結帳.html">前往結帳</a>
        </div>
    </div>
    <div class="footer">
        <footer>&copy; Copyright 2024 HTML.am</footer>
    </div>

    <script>
        // var cart = [
        // {
        //     name: 'John',
        //     price: 1000,
        //     url: './image/class.jpg',
        //     dueDate: '6/24'
        // },
        // {
        //     name: 'John',
        //     price: 3000,
        //     url: './image/class.jpg',
        //     dueDate: '6/30'
        // }
        // ];
        // localStorage.setItem('cart', JSON.stringify(cart));

        var cart = JSON.parse(localStorage.getItem('cart'));

        var mainContentHtml = '';        
        var totalPrice = 0;
        for(var i=0;i<cart.length;i++){
            totalPrice = totalPrice + cart[i].price;
            mainContentHtml = `
            <li class="main-content">
                <div class="main-content-left">
                    <div class="item">
                        <div class="item-pic">
                            <img src="${cart[i].url}" alt="">
                        </div>
                        <div class="item-txt">
                            <p>${cart[i].name}</p>
                            <h3>到期日:${cart[i].dueDate}</h3>
                        </div>
                    </div>
                </div>
                <div class="main-content-right">
                    <span class="item-pice price">
                        NT$ ${cart[i].price}
                    </span>
                </div>
            </li>
            ` + mainContentHtml;

        }
        document.querySelector('.main-container').innerHTML = mainContentHtml;
        document.querySelector('#price').innerHTML = 'NT' + totalPrice;
    </script>
</body>
</html>